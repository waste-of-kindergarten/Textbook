# 命题逻辑

## 声明语句

***命题逻辑(propositional logic)*** 是一种基于命题（可判断真假的陈述语句）的逻辑。命题逻辑将自然的陈述语句转化为字符串和符号，一方面我们能够在保持陈述语句编码完整性，另一方面我们将陈述语句进行了压缩以便专注于逻辑推断机制。

考虑某些 ***原子的(atomic)*** 陈述语句（或者说不可分解的），例如:

<center> 
“数字5是奇数”
</center>

<br>

我们为每一个语句分配唯一的符号 ` $ p,q,r, \dots $ `，这样就可以按组合的方式构造更加复杂的语句。

为了构造更复杂的语句，需要一些构造规则：

` $\neg$ `: ` $p$ `的 ***否定(negation)*** 是` $\neg p$ `

` $\vee$ ` : 给定` $p$ `和` $q$ `两个语句，我们使用` $p \vee q$ `表示它们“至少有一个为真”，并称之为 ***析取(disjunction)***

` $\wedge$ ` : 给定` $p$ `和` $q$ `两个语句，我们使用` $p \wedge q $ `表示“它们均为真”，并称之为 ***合取(conjunction)***

` $\rightarrow$ ` : 给定` $p$ `和` $q$ `两个语句，我们使用` $p \rightarrow q$ `表示 “当` $p$ `为真时` $q$ `也为真”，并称其中的` $p$ `为 ***假设(assumption)***、` $q$ `为结论，并称语句` $p \rightarrow q$ `为 ***蕴含(implication)***。

> 惯例： 习惯上，结合性优先级 ` $ \  \neg \ $` > ` $\ \wedge \ $` > ` $\ \vee \ $ ` > ` $\ \rightarrow \ $`，且` $\rightarrow$ `为右结合的。

## 自然演绎

我们需要一些规则以便能够从给定的一系列前提中推导出结论，在自然演绎中，我们称这些规则为 ***证明规则(proof rules)***。

假设我们有一系列称为 ***前提(premises)*** 的公式` $\Phi_1,\Phi_2,\dots,\Phi_n$ `，以及另外一个称为 ***结论(conclusion)*** 的公式` $\Psi$ `，通过对前提使用一系列的证明规则最终可以得到结论，我们将这个含义表示为

```math
  \Phi_1,\Phi_2,\dots,\Phi_n \vdash \Psi
```

并称之为 ***相继式(sequent)***。 如果我们可以找到它的一个证明，那么称之为 ***有效的(valid)*** 。

### 自然演绎规则

**合取规则**

- “与”引入规则（and-introduction）

```math
\frac{\Phi \ \ \ \Psi}{\Phi \wedge \Psi} \wedge_i
```

- “与”消去规则（and-elimination）

```math
\frac{\Phi \wedge \Psi}{\Phi} \wedge_{e_1} \ \ \ \ \frac{\Phi \wedge \Psi}{\Psi} \wedge_{e_2}
```

**双重否定规则**

- “双重否定”引入规则 (double-negation-introduction)

```math
\frac{\neg \neg \Psi}{\Psi} \neg\neg_e
```

- “双重否定”消去规则（double-negation-elimination）

```math
\frac{\Phi}{\neg \neg \Phi} \neg\neg_i
```

**蕴含规则**

- “蕴含”消去规则（implies-elimination）

```math
\frac{\Phi \ \ \ \Phi \rightarrow \Psi}{\Psi} \rightarrow_e
```

- MT规则（modus tollens）

```math
\frac{\Phi \rightarrow \Psi \ \ \ \neg \Psi}{\neg \Phi} MT
```

- “蕴含”引入规则（implies-introduction）

```math
\frac{\boxed{\begin{align} & \Phi \\ & \vdots \\ & \Psi \end{align}}}{\Phi \rightarrow \Psi} \rightarrow_i
```

这里与其他的规则不同的是，使用了一个方框标志，它表示暂时假设` $\Phi$ `成立可以证明` $\Psi$ `成立。

> 注意： 
> 1. 方框内外推导并无本质差别
> 2. 当处于方框中时，可以使用方框内上方以及方框外部的前提推导新的结论
> 3. 方框结束后，不能随意使用方框内的结论（因为其存在特定的假设），除非有演绎规则的支持


**析取规则**

- “析取”引入规则（or-introduction）

```math
\frac{\Phi}{\Phi \vee \Psi} \vee_{i_1} \ \ \ \ \frac{\Psi}{\Phi \vee \Psi} \vee_{i_2}
```

- “析取”消去规则（or-elimination）

```math
\frac{\Phi \vee \Psi \ \ \boxed{\begin{align} & \Phi \\ & \vdots \\ & \chi \end{align}} \ \ \boxed{\begin{align} & \Psi \\ & \vdots \\ & \chi \end{align}}}{\chi} \vee_e
```

**否定规则**

- “否定”消去规则（not-elimination）

```math
\frac{\Phi \ \ \neg \Phi}{\bot} \neg_e
```

- “否定”引入规则（not-introduction）

```math
\frac{\boxed{\begin{align} & \Phi \\ & \vdots \\ & \bot \end{align}}}{\neg \Phi} \neg_i
```

**矛盾规则**

- 矛盾消去规则（bottom-elimination）

```math
\frac{\bot}{\Phi}\bot_e
```

**反证法**

- 反证法（proof by contradiction, PBC）

```math
\frac{\boxed{\begin{align} & \neg \Phi \\ & \vdots \\ & \bot \end{align}}}{\Phi} PBC
```

**排中律**

- 排中律（law of the excluded middle, LEM）

```math
\frac{}{\Phi \vee \neg \Phi} LEM
```

### 树状表示法与线性表示法

在自然演绎规则一节中，我们使用树状表示法进行表示；但对于长推导来说，使用树状表示推导过程会导致一些书写麻烦，一种替代方法是使用 ***线性表示(linear presentation)***。我们将在下面进行展示。

### 派生的规则

在所有的自然演绎规则中，某些规则并不“基本”，它们可以使用基本的规则派生出来。接下来我们使用线性表示法进行推导。

- MT

```math
\begin{align}
& 1 & \ \ \ & \Phi \rightarrow \Psi \ \ \ & premise \\ 
& 2 & \ \ \ & \neg \Psi \ \ \ & premise \\
& 3 & \mid \ \ & \Phi \ \ \ & assumption \\ 
& 4 & \mid \ \ & \Psi \ \ \ & \rightarrow_e 1,3 \\
& 5 & \mid \ \ & \bot \ \ \ & \neg_e 4,2 \\
& 6 &  \ \ \ & \neg \Phi \ \ \ & \neg_i 3-5   
\end{align}
```

- PBC

```math
\begin{align}
& 1 & \ \ \ & \neg \Phi \rightarrow \bot \ \ \ & given \\ 
& 2 & \mid \ \ & \neg \Phi \ \ \ & assumption \\ 
& 3 & \mid \ \ & \bot \ \ \ & \rightarrow_e 1,2 \\
& 4 & \ \ \ & \neg \neg \Phi \ \ \ & \neg_i 2-3 \\ 
& 5 & \ \ \ & \Phi \ \ \ & \neg \neg_e 4
\end{align}
```

- LEM

```math
\begin{align}
& 1 & \mid \ \ \ &  \neg (\Phi \vee \neg \Phi) \ \ \ & assumption \\ 
& 2 & \mid \mid \ \ & \Phi \ \ \ & assumption \\ 
& 3 & \mid \mid \ \ & \Phi \vee \neg \Phi \ \ \ & \vee_{i_1} 2 \\ 
& 4 & \mid \mid \ \ & \bot \ \ \ & \neg_e 3,1 \\
& 5 & \mid \ \ \ & \neg \Phi & \neg_i 2-4 \\
& 6 & \mid \ \ \ & \Phi \vee \neg \Phi & \vee_{i_2} 5 \\
& 7 & \mid \ \ \ & \bot \ \ \ & \neg_e 6,1 \\
& 8 & \ \ \ \ & \neg \neg (\Phi \vee \neg \Phi) \ \ \ & \neg_i 1-7 \\
& 9 & \ \ \ \ & \Phi \vee \neg \Phi \ \ \ & \neg \neg_e 8
\end{align}
```

### 可证等价

令` $Phi$ `和` $Psi$ `为命题逻辑中的公式，我们称它们可证等价当且仅当两个相继式` $\Phi \vdash \Psi$ `和` $\Psi \vdash \Phi$ `都是有效的(valid)。对于这种双向的可证，我们也可以简写为` $\Phi \dashv \vdash \Psi$ `。